# 📚 高尔夫视频下载 API - 文档索引

欢迎！这里是高尔夫视频下载 API 的完整文档中心。

## 🚀 快速开始

如果你是第一次部署，按照以下顺序阅读：

1. **[README-高尔夫.md](README-高尔夫.md)** - 项目概览（从这里开始）
2. **[快速部署-高尔夫.md](快速部署-高尔夫.md)** - 部署步骤（⭐ 重点）
3. **[部署检查清单.md](部署检查清单.md)** - 确保没有遗漏

## 📖 完整文档

### 部署相关

| 文档 | 用途 | 适合人群 |
|------|------|----------|
| [快速部署-高尔夫.md](快速部署-高尔夫.md) | 最简单的部署指南 | 所有人 ⭐ |
| [部署检查清单.md](部署检查清单.md) | 逐步检查清单，确保完整部署 | 运维人员 |
| [setup_cloudflare.md](setup_cloudflare.md) | CloudFlare 详细配置说明 | 需要深入了解的用户 |

### 使用相关

| 文档 | 用途 | 适合人群 |
|------|------|----------|
| [高尔夫API使用指南.md](高尔夫API使用指南.md) | 完整的 API 使用文档 | App 开发者 ⭐ |
| [API_文档.md](API_文档.md) | 原始 API 文档 | 参考用 |
| [API_使用示例.md](API_使用示例.md) | API 调用示例 | 快速参考 |

## 🖥️ Windows 管理工具

### 图形化管理（推荐）

**[管理面板.bat](管理面板.bat)** - 一键式管理面板，包含所有功能

### 单独功能脚本

| 脚本 | 功能 |
|------|------|
| [Windows启动.bat](Windows启动.bat) | 启动服务 |
| [Windows停止服务.bat](Windows停止服务.bat) | 停止服务 |
| [Windows查看状态.bat](Windows查看状态.bat) | 查看运行状态 |
| [Windows查看日志.bat](Windows查看日志.bat) | 查看服务日志 |
| [Windows测试服务.bat](Windows测试服务.bat) | 测试服务是否正常 |

## 🐧 Linux/WSL 脚本

| 脚本 | 功能 | 使用方法 |
|------|------|----------|
| [部署到高尔夫.sh](部署到高尔夫.sh) | 完整部署脚本 | `./部署到高尔夫.sh` |
| [测试服务.sh](测试服务.sh) | 测试服务状态 | `./测试服务.sh` |

## ⚙️ 配置文件

| 文件 | 用途 | 说明 |
|------|------|------|
| `.env` | 环境变量配置 | **需要手动创建**，包含 CloudFlare Token |
| [config.yaml](config.yaml) | API 配置文件 | 已存在，可根据需要修改 |
| [docker-compose.golf.yml](docker-compose.golf.yml) | Docker 配置 | 高尔夫专用配置 |

### 创建 .env 文件

在项目目录创建 `.env` 文件，内容如下：

```env
TUNNEL_TOKEN=你的CloudFlare_Token
TZ=Asia/Shanghai
```

## 📱 App 开发者参考

### Swift 代码示例

参考 [高尔夫API使用指南.md](高尔夫API使用指南.md) 中的 Swift 代码部分。

### API 端点

```
基础 URL: https://你的域名.com

主要端点：
POST /api/hybrid/video_data  # 视频解析（推荐）
GET  /api/download           # 直接下载
GET  /docs                   # API 文档
```

### 支持的平台

- ✅ 抖音（Douyin）
- ✅ TikTok（国际版）
- ✅ 哔哩哔哩（Bilibili）

## 🔧 常见任务

### 首次部署

1. 阅读 [快速部署-高尔夫.md](快速部署-高尔夫.md)
2. 获取 CloudFlare Token
3. 创建 `.env` 文件
4. 运行 [Windows启动.bat](Windows启动.bat)
5. 配置 CloudFlare 域名
6. 测试访问

### 日常管理

使用 [管理面板.bat](管理面板.bat) 进行所有日常操作。

### 查看日志

- **图形化**: 运行 [Windows查看日志.bat](Windows查看日志.bat)
- **命令行**: 
  ```bash
  docker logs golf_video_api
  docker logs golf_cloudflare_tunnel
  ```

### 测试服务

- **Windows**: 运行 [Windows测试服务.bat](Windows测试服务.bat)
- **WSL**: 运行 `./测试服务.sh`
- **浏览器**: 访问 http://localhost:8081/docs

### 故障排查

参考 [高尔夫API使用指南.md](高尔夫API使用指南.md) 的"故障排查"部分。

## 📊 系统架构

```
┌─────────────────┐
│  高尔夫 App     │ (iOS/Android)
└────────┬────────┘
         │ HTTPS
         ▼
┌─────────────────┐
│  CloudFlare     │ (公网入口)
│  Tunnel         │
└────────┬────────┘
         │ 内网
         ▼
┌─────────────────┐
│  Docker         │ (WSL Ubuntu)
│  - API 服务     │
│  - CF Tunnel    │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  Docker Desktop │ (Windows)
└─────────────────┘
```

## 🎯 最佳实践

### 安全性

1. 不要将 `.env` 文件提交到 Git
2. 定期更新服务和依赖
3. 配置 CloudFlare Rate Limiting
4. 考虑启用 API Key 验证

### 性能

1. 定期清理 `download` 目录
2. 监控日志文件大小
3. 配置合适的 Docker 资源限制

### 可靠性

1. 确保 Docker Desktop 开机自启
2. 配置容器自动重启（已默认配置）
3. 定期备份配置文件
4. 设置监控告警（可选）

## 📞 获取帮助

### 按优先级查找答案

1. **查看文档**: 本索引中的相关文档
2. **测试工具**: 运行 [Windows测试服务.bat](Windows测试服务.bat)
3. **查看日志**: 使用 [Windows查看日志.bat](Windows查看日志.bat)
4. **检查清单**: 对照 [部署检查清单.md](部署检查清单.md)

### 常见问题速查

| 问题 | 查看 | 位置 |
|------|------|------|
| 服务无法启动 | 故障排查 | [高尔夫API使用指南.md](高尔夫API使用指南.md) |
| CloudFlare 连接失败 | 配置说明 | [快速部署-高尔夫.md](快速部署-高尔夫.md) |
| API 调用失败 | API 文档 | [高尔夫API使用指南.md](高尔夫API使用指南.md) |
| 视频下载失败 | 日志分析 | 运行查看日志工具 |

## 🎉 快速链接

### 本地访问
- API 文档: http://localhost:8081/docs
- RedOC 文档: http://localhost:8081/redoc

### 管理工具
- 推荐: 双击 [管理面板.bat](管理面板.bat)
- 测试: 双击 [Windows测试服务.bat](Windows测试服务.bat)

### 配置文件
- 环境变量: [创建 .env 文件](#创建-env-文件)
- API 配置: [config.yaml](config.yaml)

---

## 📝 文档更新

- **创建日期**: 2025-12-13
- **最后更新**: 2025-12-13
- **版本**: 1.0

## 💡 提示

💡 **首次使用？** 直接阅读 [快速部署-高尔夫.md](快速部署-高尔夫.md)

💡 **需要管理服务？** 使用 [管理面板.bat](管理面板.bat)

💡 **开发 App？** 查看 [高尔夫API使用指南.md](高尔夫API使用指南.md)

💡 **遇到问题？** 运行 [Windows测试服务.bat](Windows测试服务.bat) 诊断

---

**祝你使用愉快！** 🚀

